<form [formGroup]="customerInfoGroup">
  <div class="cusInfoblock w-100">
    <p class="title active">Primary Info</p>
    <div class="blocks w-100">
      <div fxLayout="column" fxLayout.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <mat-form-field appearance="fill" fxFlex="28.16%">
            <mat-label>Company Name</mat-label>
            <input matInput placeholder="Company Name" formControlName="cmpName" required>
            <mat-error *ngIf="customerInfoGroup.controls['cmpName'].errors?.required">This field is mandatory.
            </mat-error>
            <mat-error *ngIf="customerInfoGroup.controls['cmpName'].errors?.minlength">Minimum 8 charactors needed.
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="12.9%">
            <mat-label>Account Number</mat-label>
            <input matInput placeholder="Account Number" formControlName="accNum" required>
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="12.9%">
            <mat-label>Branch Code</mat-label>
            <input matInput placeholder="Account Number" formControlName="branchCode" required>
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="12.9%">
            <mat-label>Industry</mat-label>
            <mat-select formControlName="industry">
              <mat-option value="{{industry.id}}" *ngFor="let industry of metaData.industryList">{{industry.industry}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-checkbox class="example-margin" color="primary" formControlName="active">Active</mat-checkbox>
        </fieldset>
      </div>
      <div fxLayout="column" fxLayout.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <mat-form-field appearance="fill" fxFlex="28.1%">
            <mat-label>P.O.No</mat-label>
            <input matInput placeholder="Company Name" formControlName="poNo">
          </mat-form-field>
          <mat-checkbox class="example-margin" formControlName="taxable" color="primary">Taxable</mat-checkbox>
          <mat-checkbox class="example-margin" formControlName="creditCard" color="primary">Creditcard</mat-checkbox>
        </fieldset>
      </div>
    </div>
  </div>
  <div class="cusInfoblock w-100">
    <p class="title">Contact Information</p>
    <div class="blocks w-100">
      <div fxLayout="column" fxLayout.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <mat-form-field appearance="fill" fxFlex="28.6%">
            <mat-label>Attention</mat-label>
            <input matInput placeholder="Attention" formControlName="contactAttention">
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="28.6%">
            <mat-label>Contact</mat-label>
            <input matInput placeholder="Contact" formControlName="contactCon">
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="15.5%">
            <mat-label>Phone</mat-label>
            <input matInput placeholder="Phone" formControlName="contactPhone">
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="10.3%">
            <mat-label>Extension</mat-label>
            <input matInput placeholder="Extension" formControlName="contactExt">
          </mat-form-field>
        </fieldset>
      </div>
      <div fxLayout="column" fxLayout.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <mat-form-field appearance="fill" fxFlex="15.5%">
            <mat-label>FAX</mat-label>
            <input matInput placeholder="Fax" formControlName="contactFax">
          </mat-form-field>
          <mat-checkbox class="example-margin" formControlName="contactEmailInvoice" color="primary">Email Invoice
          </mat-checkbox>
          <mat-form-field appearance="fill" fxFlex="58.6%">
            <mat-label>Email</mat-label>
            <input matInput placeholder="Email" formControlName="contactEmail" required>
          </mat-form-field>
        </fieldset>
      </div>
    </div>
  </div>
  <div class="cusInfoblock addedContact" formArrayName="secondaryContact"
    *ngFor="let cont of customerInfoGroup.get('secondaryContact')['controls']; let i = index;">
    <p class="title">Contact {{i+1}}</p>
    <div class="blocks w-100" [formGroupName]="i">
      <div fxLayout="column" fxLayout.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <mat-form-field appearance="fill" fxFlex="58.6%">
            <mat-label>Contact</mat-label>
            <input matInput placeholder="contact" formControlName="contact">
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="12.9%">
            <mat-label>Phone</mat-label>
            <input matInput placeholder="phone" formControlName="phone">
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="12.9%">
            <mat-label>Extension</mat-label>
            <input matInput placeholder="Extension" formControlName="extension">
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="12.9%">
            <mat-label>Fax</mat-label>
            <input matInput placeholder="Fax" formControlName="fax">
          </mat-form-field>
          <mat-checkbox class="example-margin" color="primary" formControlName="emailInvoice">Email Invoice
          </mat-checkbox>
        </fieldset>
      </div>
      <div fxLayout="column" fxLayout.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <p fxFlex="58.6%">
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>Email</mat-label>
              <input matInput placeholder="Email" formControlName="email" required>
              <mat-hint class="note">You can separate up to 4 email addresses with semi-colons</mat-hint>
            </mat-form-field>
          </p>
        </fieldset>
      </div>
      <div class="btnSection w-100">
        <button mat-stroked-button color="primary" (click)="deleteContact(i)">Delete Contact</button>
        <button mat-stroked-button [disabled]="!cont.valid" (click)="cont.reset()">Reset</button>
      </div>
    </div>
  </div>
  <div class="btnSection w-100">
    <button mat-stroked-button (click)="addContact()">
      <mat-icon>add</mat-icon>Add Contact
    </button>
  </div>
  <div class="cusInfoblock w-100">
    <p class="title">Billing Address</p>
    <div class="blocks w-100" formGroupName="billingAddress">
      <div fxLayout="column" fxLayot.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <mat-form-field appearance="fill" fxFlex="28.1%">
            <mat-label>Address 1</mat-label>
            <input matInput placeholder="Address 1" formControlName="address1">
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="28.1%">
            <mat-label>Address 2</mat-label>
            <input matInput placeholder="Address 2" formControlName="address1">
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="15.5%">
            <mat-label>City</mat-label>
            <input matInput placeholder="City" formControlName="city">
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="15.5%">
            <mat-label>State</mat-label>
            <input matInput placeholder="State" formControlName="state">
          </mat-form-field>
        </fieldset>
      </div>
      <div fxLayout="column" fxLayout.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <mat-form-field appearance="fill" fxFlex="15.5%">
            <mat-label>Zip</mat-label>
            <input matInput placeholder="Zip" formControlName="zipcode">
          </mat-form-field>
        </fieldset>
      </div>
    </div>
  </div>
  <div class="btnSection w-100">
    <button mat-stroked-button color="primary" (click)="customerInfoGroup.reset()">Reset</button>
    <button mat-stroked-button disabled matStepperNext>Next</button>
  </div>
</form>