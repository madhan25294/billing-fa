<form [formGroup]="customerInfoGroup">
  <div class="cusInfoblock w-100">
    <p class="title active">Primary Info</p>
    <div class="blocks w-100">
      <div fxLayout="column" fxLayout.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <mat-form-field appearance="fill" fxFlex="28.16%">
            <mat-label>Company Name</mat-label>
            <input matInput placeholder="Company Name" formControlName="cmpName">
            <mat-error *ngIf="customerInfoGroup.controls['cmpName'].errors?.required">This field is mandatory.
            </mat-error>
            <mat-error *ngIf="customerInfoGroup.controls['cmpName'].errors?.maxlength">Maximum 100 characters.
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="12.9%">
            <mat-label>Account Number</mat-label>
            <input matInput placeholder="Account Number" formControlName="accNum">
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="12.9%">
            <mat-label>Branch Code</mat-label>
            <input matInput placeholder="Account Number" formControlName="branchCode">
            <mat-error *ngIf="customerInfoGroup.controls['branchCode'].errors?.maxlength">Maximum 15 characters.
            </mat-error>
            <mat-error *ngIf="customerInfoGroup.controls['branchCode'].errors?.pattern">Enter valid number
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="12.9%">
            <mat-label>Industry</mat-label>
            <mat-select formControlName="industry">
              <mat-option value="{{industry.id}}" *ngFor="let industry of metaData.industryList">{{industry.industry}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-checkbox class="example-margin" color="primary" formControlName="active">Active</mat-checkbox>
        </fieldset>
      </div>
      <div fxLayout="column" fxLayout.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <mat-form-field appearance="fill" fxFlex="28.1%">
            <mat-label>P.O.No</mat-label>
            <input matInput placeholder="" formControlName="poNo">
            <mat-error *ngIf="customerInfoGroup.controls['poNo'].errors?.maxlength">Maximum 42 characters.
            </mat-error>
            <mat-error *ngIf="customerInfoGroup.controls['poNo'].errors?.pattern">Enter valid number
            </mat-error>
          </mat-form-field>
          <mat-checkbox class="example-margin" formControlName="taxable" color="primary">Taxable</mat-checkbox>
          <mat-checkbox class="example-margin" formControlName="creditCard" color="primary">Credit Card</mat-checkbox>
        </fieldset>
      </div>
    </div>
  </div>
  <div class="cusInfoblock w-100">
    <p class="title active">Contact Information</p>
    <div class="blocks w-100">
      <div fxLayout="column" fxLayout.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <mat-form-field appearance="fill" fxFlex="28.6%">
            <mat-label>Attention</mat-label>
            <input matInput placeholder="Attention" formControlName="contactAttention">
            <mat-error *ngIf="customerInfoGroup.controls['contactAttention'].errors?.maxlength">Maximum 55 characters.
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="28.6%">
            <mat-label>Contact</mat-label>
            <input matInput placeholder="Contact" formControlName="contactCon">
            <mat-error *ngIf="customerInfoGroup.controls['contactCon'].errors?.maxlength">Maximum 20 characters.
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="15.5%">
            <mat-label>Phone</mat-label>
            <input matInput placeholder="Phone" formControlName="contactPhone">
            <mat-error *ngIf="customerInfoGroup.controls['contactPhone'].errors?.maxlength">Maximum 12 characters.
            </mat-error>
            <mat-error *ngIf="customerInfoGroup.controls['contactPhone'].errors?.pattern">Enter valid number
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="10.3%">
            <mat-label>Extension</mat-label>
            <input matInput placeholder="Extension" formControlName="contactExt">
            <mat-error *ngIf="customerInfoGroup.controls['contactExt'].errors?.maxlength">Maximum 5 characters.
            </mat-error>
            <mat-error *ngIf="customerInfoGroup.controls['contactExt'].errors?.pattern">Number only
            </mat-error>
          </mat-form-field>
        </fieldset>
      </div>
      <div fxLayout="column" fxLayout.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <mat-form-field appearance="fill" fxFlex="15.5%">
            <mat-label>Fax</mat-label>
            <input matInput placeholder="Fax" formControlName="contactFax">
            <mat-error *ngIf="customerInfoGroup.controls['contactFax'].errors?.maxlength">Maximum 12 characters.
            </mat-error>
            <mat-error *ngIf="customerInfoGroup.controls['contactFax'].errors?.pattern">Number only
            </mat-error>
          </mat-form-field>
          <mat-checkbox class="example-margin" formControlName="contactEmailInvoice" color="primary">Email Invoice
          </mat-checkbox>
          <mat-form-field appearance="fill" fxFlex="58.6%">
            <mat-label>Email</mat-label>
            <input matInput placeholder="Email" formControlName="contactEmail" required>
            <mat-error *ngIf="customerInfoGroup.controls['contactEmail'].errors?.maxlength">Maximum 99 characters.
            </mat-error>
            <mat-error *ngIf="customerInfoGroup.controls['contactEmail'].errors?.validateEmailList">Enter valid emails not more than 4
            </mat-error>
          </mat-form-field>
        </fieldset>
      </div>
    </div>
  </div>
  <div class="cusInfoblock addedContact" formArrayName="secondaryContact"
    *ngFor="let cont of customerInfoGroup.get('secondaryContact')['controls']; let i = index;">
    <p class="title">Contact {{i+1}}</p>
    <div class="blocks w-100" [formGroupName]="i">
      <div fxLayout="column" fxLayout.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <mat-form-field appearance="fill" fxFlex="58.6%">
            <mat-label>Contact</mat-label>
            <input matInput placeholder="contact" formControlName="contact">
            <mat-error *ngIf="cont.controls['contact'].errors?.required">This field is required
            </mat-error>
            <mat-error *ngIf="cont.controls['contact'].errors?.maxlength">Maximum 20 characters.
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="12.9%">
            <mat-label>Phone</mat-label>
            <input matInput placeholder="phone" formControlName="phone">
            <mat-error *ngIf="cont.controls['phone'].errors?.required">This field is required
            </mat-error>
            <mat-error *ngIf="cont.controls['phone'].errors?.maxlength">Maximum 12 characters.
            </mat-error>
            <mat-error *ngIf="cont.controls['phone'].errors?.pattern">Number only 
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="12.9%">
            <mat-label>Extension</mat-label>
            <input matInput placeholder="Extension" formControlName="extension">
            <mat-error *ngIf="cont.controls['extension'].errors?.maxlength">Maximum 5 characters.
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="12.9%">
            <mat-label>Fax</mat-label>
            <input matInput placeholder="Fax" formControlName="fax">
            <mat-error *ngIf="cont.controls['fax'].errors?.maxlength">Maximum 12 characters.
            </mat-error>
          </mat-form-field>
          <mat-checkbox class="example-margin" color="primary" formControlName="emailInvoice">Email Invoice
          </mat-checkbox>
        </fieldset>
      </div>
      <div fxLayout="column" fxLayout.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <p fxFlex="58.6%">
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>Email</mat-label>
              <input matInput placeholder="Email" formControlName="email">
              <mat-error *ngIf="cont.controls['email'].errors?.required">This field is required
              </mat-error>
              <mat-error *ngIf="cont.controls['email'].errors?.maxlength">Maximum 99 characters.
              </mat-error>
              <mat-hint class="note">You can separate up to 4 email addresses with semi-colons</mat-hint>
            </mat-form-field>
          </p>
        </fieldset>
      </div>
      <div class="btnSection w-100">
        <button type="button" mat-stroked-button color="primary" (click)="pubToDelete(i)">Delete Contact</button>
        <button type="button" mat-stroked-button  [color]="toogleEnableDisableResetSecondaryContact(cont) ? 'primary' : null" [disabled]="!toogleEnableDisableResetSecondaryContact(cont)" 
        (click)="pubToReset(cont, 'the contact')">Reset</button>
      </div>
    </div>
  </div>
  <div class="btnSection w-100">
    <button type="button" mat-stroked-button [color]="toogleEnableDisableAddContact() ? 'primary' : null" [disabled]="!toogleEnableDisableAddContact()"
      (click)="addContact()">
      <mat-icon>add</mat-icon>Add Contact
    </button>
  </div>
  <div class="cusInfoblock w-100">
    <p class="title active">Billing Address</p>
    <div class="blocks w-100" formGroupName="billingAddress">
      <div fxLayout="column" fxLayot.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <mat-form-field appearance="fill" fxFlex="28.1%">
            <mat-label>Address 1</mat-label>
            <input matInput placeholder="Address 1" formControlName="address1" required>
            <mat-error *ngIf="customerInfoGroup.controls['billingAddress']['controls']['address1'].errors?.required">This field is mandatory.
            </mat-error>
            <mat-error *ngIf="customerInfoGroup.controls['billingAddress']['controls']['address1'].errors?.maxlength">Maximum 55 characters.
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="28.1%">
            <mat-label>Address 2</mat-label>
            <input matInput placeholder="Address 2" formControlName="address2">
            <mat-error *ngIf="customerInfoGroup.controls['billingAddress']['controls']['address2'].errors?.maxlength">Maximum 55 characters.
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="15.5%">
            <mat-label>City</mat-label>
            <input matInput placeholder="City" formControlName="city" required>
            <mat-error *ngIf="customerInfoGroup.controls['billingAddress']['controls']['city'].errors?.required">This field is mandatory.
            </mat-error>
            <mat-error *ngIf="customerInfoGroup.controls['billingAddress']['controls']['city'].errors?.maxlength">Maximum 30 characters.
            </mat-error>
          </mat-form-field>
          <mat-form-field appearance="fill" fxFlex="15.5%">
            <mat-label>State</mat-label>
            <input matInput placeholder="State" formControlName="state" required>
            <mat-error *ngIf="customerInfoGroup.controls['billingAddress']['controls']['state'].errors?.required">This field is mandatory.
            </mat-error>
            <mat-error *ngIf="customerInfoGroup.controls['billingAddress']['controls']['state'].errors?.maxlength">Maximum 2 characters.
            </mat-error>
          </mat-form-field>
        </fieldset>
      </div>
      <div fxLayout="column" fxLayout.gt-xs="row">
        <fieldset fxFlex="100%" fxLayoutGap="2.3%">
          <mat-form-field appearance="fill" fxFlex="15.5%">
            <mat-label>ZIP</mat-label>
            <input matInput placeholder="Zip" formControlName="zipcode" required>
            <mat-error *ngIf="customerInfoGroup.controls['billingAddress']['controls']['zipcode'].errors?.required">This field is mandatory.
            </mat-error>
            <mat-error *ngIf="customerInfoGroup.controls['billingAddress']['controls']['zipcode'].errors?.maxlength">Maximum 10 characters.
            </mat-error>
          </mat-form-field>
        </fieldset>
      </div>
    </div>
  </div>
  <div class="btnSection w-100">
    <button type="button" mat-stroked-button color="primary" (click)="pubToReset(customerInfoGroup, 'customer information')">Reset</button>
    <button type="button" mat-stroked-button [disabled]="!customerInfoGroup.valid" matStepperNext>Next</button>
  </div>
</form>
